<odoo>
    <data>

        <record model="ir.ui.view" id="crm_custom_view_stage_tree">
            <field name="name">crm.view.inherit.tree</field>
            <field name="model">crm.stage</field>
            <field name="inherit_id" ref="crm.crm_stage_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='is_won']" position="after">
                    <field name="is_accepted"/>
                    <field name="is_reviewed"/>
                    <field name="is_allocate"/>
                    <field name="is_rejected"/>
                </xpath>
            </field>
        </record>
        <record model="ir.ui.view" id="crm_custom_view_stage_form">
            <field name="name">crm.view.inherit.form.stage</field>
            <field name="model">crm.stage</field>
            <field name="inherit_id" ref="crm.crm_stage_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='is_won']" position="after">
                    <field name="is_accepted"/>
                    <field name="is_reviewed"/>
                    <field name="is_allocate"/>
                    <field name="is_rejected"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="crm_custom_view_new_test">
            <field name="name">crm.view.inherit.sit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_lead_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='team_id']" position="after">
                    <field name="is_reviewed" invisible="1"/>
                    <field name="is_allocated" invisible="1"/>
                    <field name="is_accepted" invisible="1"/>
                    <field name="is_rejected" invisible="1"/>
                    <field name="additional_service" widget="radio" attrs="{'invisible':[('is_allocated','=',False)]}"/>
                    <field name="exchange_card" string="Exchange Card" attrs="{'invisible':[('additional_service','=','no')]}" />
                    <field name="consumer_loan" string="Consumer Loan" attrs="{'invisible':[('additional_service','=','no')]}" />
                    <field name="vehicle" string="Vehicle" attrs="{'invisible':[('additional_service','=','no')]}" />
                    <field name="insurance" string="Insurance" attrs="{'invisible':[('additional_service','=','no')]}" />
                    <field name="reject_reason" attrs="{'invisible':[('is_rejected','=',False)]}"/>
                </xpath>
                <xpath expr="//field[@name='user_id']" position="attributes">
                    <attribute name="attrs">{'required':[('is_reviewed','=',True)]}</attribute>
                </xpath>
                <xpath expr="//notebook" position='inside'>
                     <page name="lead_xx" string="Extra Information" invisible="1">
                                <group>
                                    <group string="Contact Information">
                                        <field name="partner_name"/>
                                        <label for="street" string="Address"/>
                                        <div class="o_address_format">
                                            <field name="street" placeholder="Street..." class="o_address_street"/>
                                            <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                            <field name="city" placeholder="City" class="o_address_city"/>
                                            <field name="state_id" class="o_address_state" placeholder="State" options='{"no_open": True}'/>
                                            <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                            <field name="country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}'/>
                                        </div>
                                        <field name="website" widget="url" placeholder="e.g. https://www.odoo.com"/>
                                        <field name="lang_id" options="{'no_create': True}"/>
                                    </group>
                                    <group class="mt48">
                                        <label for="contact_name_page_lead"/>
                                        <div class="o_row">
                                            <field name="contact_name" id="contact_name_page_lead"/>
                                            <field name="title" placeholder="Title" domain="[]" options='{"no_open": True}'/>
                                        </div>
                                        <field name="function"/>
                                        <label for="mobile_page_lead" class="oe_inline"/>
                                        <div class="o_row o_row_readonly">
                                            <button name="phone_action_blacklist_remove" class="fa fa-ban text-danger"
                                                    title="This phone number is blacklisted for SMS Marketing. Click to unblacklist."
                                                    type="object" context="{'default_phone': mobile}" groups="base.group_user"
                                                    attrs="{'invisible': [('mobile_blacklisted', '=', False)]}"/>
                                            <field name="mobile" id="mobile_page_lead" widget="phone"/>
                                        </div>
                                    </group>
                                    <group string="Marketing">
                                        <field name="campaign_id" />
                                        <field name="medium_id" />
                                        <field name="source_id" />
                                    </group>
                                    <group string="Misc" name="Misc">
                                        <field name="day_open" groups="base.group_no_one"/>
                                        <field name="day_close" groups="base.group_no_one"/>
                                        <field name="referred"/>
                                        <field name="type" invisible="1"/>
                                    </group>
                                </group>
                            </page>
                    <page string="Contract Information" attrs="{'invisible':[('is_accepted','=',False)]}">
                        <group>
                            <group string="Personal Information">
                                <field name="applicant_name" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="account_no" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="email_con" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="mobile_con" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="nationality" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="nationality_type" />
                                <field name="emergency_contact"/>
                                <field name="identification_no" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="gender"/>
                                <field name="birthday" string="Date of Birth" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="age"/>
                                <field name="country_of_birth"/>
                                <field name="place_of_birth"/>
                                <field name="language"/>
                            </group>
                            <group string="Address Details">
                                <field name="residential_address" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="current_residential_address" attrs="{'required':[('is_accepted','=',True)]}"/>
                                <field name="national_address" />
                                <field name="street" />
                                <field name="po_box" />
                                <field name="zip_code" />
                                <field name="attachment_files" attrs="{'required':[('is_accepted','=',True)]}"/>
                            </group>
                        </group>
                    </page>
                    <page string="Exchange Card Information" attrs="{'invisible':[('exchange_card','=',False)]}">
                        <group>
                            <group string="Personal Detail">
                                <field name="applicant_name" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="father_name" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="email_con" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="mobile_con" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="profession_abroad" />
                                <field name="nationality" />
                                <field name="national_id" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="passport_no" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="passport_expiry" attrs="{'required':[('exchange_card','=',True)]}"/>
                                <field name="current_residential_address" attrs="{'required':[('exchange_card','=',True)]}" />
                                <field name="address_in_home_country" attrs="{'required':[('exchange_card','=',True)]}" />
                            </group>
                            <group string="Attachments">
                                <field name="ec_attachments" attrs="{'required':[('exchange_card','=',True)]}">
                                    <tree editable="bottom">
                                        <field name="name" />
                                        <field name="file" />
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </page>
                    <page string="Consumer Loan" attrs="{'invisible':[('consumer_loan','=',False)]}">
                        <group>
                            <group>
                                <field name="applicant_name" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="email_con" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="mobile_con" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="nationality" />
                                <field name="national_id" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="martial_status"/>
                                <field name="no_of_dependent" attrs="{'invisible':[('martial_status','=','single')],'required':[('martial_status','=','married')]}"/>
                                <field name="degree_level" string="Qualification"/>
                            </group>
                            <group>
                                <field name="loan_purpose" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="loan_amount" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="employment_status" attrs="{'required':[('consumer_loan','=',True)]}"/>
                                <field name="organization_name" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                                <field name="occupation" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                                <field name="monthly_income" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                                <field name="service_duration" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                            </group>
                        </group>
                        <group>
                            <group string="Attachments">
                                <field name="ec_attachments" attrs="{'required':[('consumer_loan','=',True)]}">
                                    <tree editable="bottom">
                                        <field name="name" />
                                        <field name="file" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                            </group>
                        </group>
                    </page>
                    <page string="Vehicle Information" attrs="{'invisible':[('vehicle','=',False)]}">
                        <group>
                            <group>
                                <field name="applicant_name" attrs="{'required':[('vehicle','=',True)]}"/>
                                <field name="email_con" attrs="{'required':[('vehicle','=',True)]}"/>
                                <field name="mobile_con" attrs="{'required':[('vehicle','=',True)]}"/>
                                <field name="nationality" />
                                <field name="national_id" attrs="{'required':[('vehicle','=',True)]}"/>
                            </group>
                            <group>
                                <field name="vehicle_type" attrs="{'required':[('vehicle','=',True)]}"/>
                                <field name="have_license" attrs="{'required':[('vehicle','=',True)]}"/>
                                <field name="license_no" attrs="{'invisible':[('have_license','=',False)]}"/>
                                <field name="license_expiry" attrs="{'invisible':[('have_license','=',False)]}"/>
                            </group>
                        </group>
                        <group>
                            <group string="Attachments">
                                <field name="ec_attachments" attrs="{'required':[('consumer_loan','=',True)]}">
                                    <tree editable="bottom">
                                        <field name="name" />
                                        <field name="file" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                            </group>
                        </group>
                    </page>
                    <page string="Insurance Information" attrs="{'invisible':[('insurance','=',False)]}">
                        <group>
                            <group>
                                <field name="applicant_name" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="email_con" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="mobile_con" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="nationality" />
                                <field name="national_id" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="martial_status"/>
                                <field name="no_of_dependent" attrs="{'invisible':[('martial_status','=','single')],'required':[('martial_status','=','married')]}"/>
                                <field name="degree_level" string="Qualification"/>
                            </group>
                            <group>
                                <field name="loan_purpose" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="loan_amount" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="employment_status" attrs="{'required':[('insurance','=',True)]}"/>
                                <field name="organization_name" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                                <field name="occupation" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                                <field name="monthly_income" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                                <field name="service_duration" attrs="{'invisible':[('employment_status','=','unemployed')]}"/>
                            </group>
                        </group>
                        <group>
                            <group string="Attachments">
                                <field name="ec_attachments" attrs="{'required':[('consumer_loan','=',True)]}">
                                    <tree editable="bottom">
                                        <field name="name" />
                                        <field name="file" />
                                    </tree>
                                </field>
                            </group>
                            <group>
                            </group>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
